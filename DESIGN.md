# Robot Game V2 - æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“‹ ç‰ˆæœ¬ä¿¡æ¯

- **ç‰ˆæœ¬**: V2.0.0
- **åˆ›å»ºæ—¥æœŸ**: 2025-11-02
- **åŸºäº**: V1.2.0
- **ä¸»è¦å˜æ›´**: å¤šè½®æ¸¸æˆã€åˆ†å…‰é•œæŠ˜å°„ã€é¢„ç½®æ£‹ç›˜ç³»ç»Ÿ

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

### æ¸¸æˆè§„åˆ™

#### 1. æ£‹ç›˜ç»“æ„
```
16Ã—16 å¤§æ£‹ç›˜ = 4ä¸ª 8Ã—8 å°æ£‹ç›˜ç»„åˆ

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚å·¦ä¸Š(çº¢)  â”‚å³ä¸Š(é»„)  â”‚
â”‚ç¼ºå£â†’å³ä¸‹ â”‚ç¼ºå£â†’å·¦ä¸‹ â”‚
â”œâ”€â”€â”€â”€â”€â”¬â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     â”‚â–ˆâ”‚           â”‚
â”‚å·¦ä¸‹  â”‚â–ˆâ”‚  å³ä¸‹     â”‚
â”‚(è“)  â”œâ”€â”¤  (ç»¿)     â”‚
â”‚ç¼ºå£  â”‚â–ˆâ”‚  ç¼ºå£     â”‚
â”‚â†’å³ä¸Š â”‚â–ˆâ”‚  â†’å·¦ä¸Š    â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¸­å¤®2Ã—2: ä¸å¯è¾¾åŒºåŸŸ(â–ˆ)
```

#### 2. å°æ£‹ç›˜ç³»ç»Ÿ
- **æ•°é‡**: 8ä¸ªé¢„ç½®å°æ£‹ç›˜ï¼ˆç¼–å·0-7ï¼‰
- **åŒé¢**: æ¯ä¸ªå°æ£‹ç›˜æœ‰2ä¸ªé¢ï¼ˆface 0/1ï¼‰
- **é¢œè‰²**: æ¯ä¸ªå°æ£‹ç›˜æœ‰å›ºå®šé¢œè‰²ï¼ˆçº¢/é»„/è“/ç»¿ï¼‰
- **å­˜å‚¨**: 8ä¸ªJSONæ–‡ä»¶ï¼ˆdata/board-0.json ~ board-7.jsonï¼‰
- **ç»„åˆè§„åˆ™**: å¤§æ£‹ç›˜å¿…é¡»ç”±4ç§ä¸åŒé¢œè‰²çš„å°æ£‹ç›˜ç»„æˆ

#### 3. æ£‹ç›˜æ—‹è½¬
ç»„åˆæ—¶ï¼Œå°æ£‹ç›˜éœ€è¦æ—‹è½¬ä½¿ç¼ºå£æœå‘ä¸­å¤®ï¼š
- **å·¦ä¸Šä½ç½®**: æ—‹è½¬ä½¿ç¼ºå£åœ¨(7,7) - å³ä¸‹è§’
- **å³ä¸Šä½ç½®**: æ—‹è½¬ä½¿ç¼ºå£åœ¨(0,7) - å·¦ä¸‹è§’
- **å·¦ä¸‹ä½ç½®**: æ—‹è½¬ä½¿ç¼ºå£åœ¨(7,0) - å³ä¸Šè§’
- **å³ä¸‹ä½ç½®**: æ—‹è½¬ä½¿ç¼ºå£åœ¨(0,0) - å·¦ä¸Šè§’

**æ—‹è½¬è§’åº¦**ï¼š
```javascript
// æ ¹æ®å°æ£‹ç›˜åŸå§‹ç¼ºå£ä½ç½®å’Œç›®æ ‡ä½ç½®è®¡ç®—æ—‹è½¬è§’åº¦
åŸå§‹ç¼ºå£ â†’ ç›®æ ‡ç¼ºå£ = æ—‹è½¬è§’åº¦(0Â°/90Â°/180Â°/270Â°)
```

#### 4. æ£‹ç›˜å…ƒç´ 

##### å¢™å£ (Walls)
- ä½ç½®: æ ¼å­å››å‘¨ï¼ˆä¸Š/ä¸‹/å·¦/å³ï¼‰
- ä½œç”¨: é˜»æ­¢æ£‹å­é€šè¿‡
- è¾¹ç•Œ: å¤§æ£‹ç›˜å¤–å›´æœ‰å›ºå®šå¢™å£

##### åˆ†å…‰é•œ (Prisms)
- **ä½ç½®**: å æ®å•ä¸ªæ ¼å­
- **æ–¹å‘**: å¯¹è§’çº¿ï¼ˆ\ æˆ– /ï¼‰
- **é¢œè‰²**: çº¢/é»„/è“/ç»¿
- **æŠ˜å°„è§„åˆ™**:
  ```
  å¯¹è§’çº¿ \:              å¯¹è§’çº¿ /:
  â†  â†’                  â†’  â†
   \                     /
  â†‘  â†“                  â†“  â†‘
  
  ä»å·¦â†’æŠ˜å°„â†“            ä»å·¦â†’æŠ˜å°„â†‘
  ä»ä¸Šâ†’æŠ˜å°„â†’            ä»ä¸Šâ†’æŠ˜å°„â†
  ä»å³â†’æŠ˜å°„â†‘            ä»å³â†’æŠ˜å°„â†“
  ä»ä¸‹â†’æŠ˜å°„â†            ä»ä¸‹â†’æŠ˜å°„â†’
  ```
- **é¢œè‰²åŒ¹é…**:
  - åŒè‰²æ£‹å­+åŒè‰²åˆ†å…‰é•œ: ç›´çº¿é€šè¿‡ï¼ˆä¸æŠ˜å°„ï¼‰
  - å…¶ä»–é¢œè‰²: è¢«æŠ˜å°„90åº¦
- **é‡è¦**: æ£‹å­ä¸èƒ½åœç•™åœ¨åˆ†å…‰é•œæ ¼å­ä¸Š

##### ç»ˆç‚¹ (Targets)
- **ä½ç½®**: é¢„ç½®åœ¨æ ¼å­ä¸Š
- **å½¢çŠ¶**: åœ†å½¢â—¯ã€ä¸‰è§’å½¢â–³ã€æ­£æ–¹å½¢â–¡ã€å…­è¾¹å½¢â¬¡
- **é¢œè‰²**: çº¢/é»„/è“/ç»¿/å½©è‰²
- **è§„åˆ™**: 
  - æ£‹å­é¢œè‰²å¿…é¡»åŒ¹é…ç»ˆç‚¹é¢œè‰²
  - å½©è‰²ç»ˆç‚¹å¯ä»¥æ˜¯ä»»ä½•æ£‹å­çš„ç›®æ ‡
  - å½¢çŠ¶ä»…ç”¨äºåŒºåˆ†ï¼Œæ— ç‰¹æ®Šè§„åˆ™

#### 5. æ£‹å­ (Robots)
- **æ•°é‡**: 4ä¸ª
- **é¢œè‰²**: çº¢/é»„/è“/ç»¿ï¼ˆå›ºå®šé¡ºåºï¼‰
- **ç§»åŠ¨**: é€‰æ‹©æ–¹å‘ï¼Œç›´çº¿æ»‘åŠ¨ç›´åˆ°é‡åˆ°éšœç¢
- **éšœç¢**: å¢™å£ã€å…¶ä»–æ£‹å­ã€è¾¹ç•Œ
- **åˆ†å…‰é•œ**: é‡åˆ°éåŒè‰²åˆ†å…‰é•œä¼šè¢«æŠ˜å°„

#### 6. æ¸¸æˆæµç¨‹
```
åˆå§‹åŒ–:
  â”œâ”€ é€‰æ‹©4ä¸ªå°æ£‹ç›˜ï¼ˆä¸åŒé¢œè‰²ï¼‰
  â”œâ”€ ç”Ÿæˆæ£‹ç›˜ç¼–ç ï¼ˆ4ä½åå…­è¿›åˆ¶ï¼‰
  â”œâ”€ è®¾ç½®4ä¸ªæ£‹å­çš„åˆå§‹ä½ç½®
  â””â”€ ç”Ÿæˆå®Œæ•´ç¼–ç ï¼ˆæ£‹ç›˜ç  + ä½ç½®ç ï¼‰

ç¬¬Nè½®æ¸¸æˆ:
  â”œâ”€ æ˜¾ç¤ºå½“å‰æ£‹å­ä½ç½®
  â”œâ”€ æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨ç»ˆç‚¹
  â”œâ”€ ç©å®¶é€‰æ‹©ä¸€ä¸ªç»ˆç‚¹
  â”œâ”€ ç³»ç»Ÿè®¡ç®—ç¬¦åˆæ¡ä»¶çš„æ£‹å­çš„æœ€ä¼˜è·¯å¾„
  â”œâ”€ æ˜¾ç¤ºè·¯å¾„å’Œæ­¥æ•°
  â”œâ”€ æ‰§è¡Œç§»åŠ¨
  â””â”€ æ›´æ–°æ£‹å­ä½ç½® â†’ ä¸‹ä¸€è½®

æ¸¸æˆç›®æ ‡:
  â””â”€ ç”¨æœ€å°‘çš„æ€»æ­¥æ•°å®Œæˆæ‰€æœ‰ç»ˆç‚¹ç›®æ ‡
```

## ğŸ“Š æ•°æ®ç»“æ„è®¾è®¡

### 1. å°æ£‹ç›˜æ•°æ® (SmallBoard)
```javascript
{
  "id": 0,                    // ç¼–å· 0-7
  "color": "red",             // é¢œè‰²: red/yellow/blue/green
  "originalGap": {            // åŸå§‹ç¼ºå£ä½ç½®ï¼ˆæœªæ—‹è½¬å‰ï¼‰
    "x": 0,
    "y": 0
  },
  "faces": [
    {
      "id": 0,                // é¢ç¼–å· 0/1
      "walls": [              // å¢™å£åˆ—è¡¨
        {
          "x": 2,
          "y": 3,
          "sides": ["top", "right"]  // è¯¥æ ¼å­çš„å¢™å£
        }
      ],
      "prisms": [             // åˆ†å…‰é•œåˆ—è¡¨
        {
          "x": 4,
          "y": 5,
          "direction": "\\",  // \ æˆ– /
          "color": "red"      // red/yellow/blue/green
        }
      ],
      "targets": [            // ç»ˆç‚¹åˆ—è¡¨
        {
          "x": 6,
          "y": 7,
          "shape": "circle",  // circle/triangle/square/hexagon
          "color": "red",     // red/yellow/blue/green/rainbow
          "id": "T1"          // ç»ˆç‚¹å”¯ä¸€æ ‡è¯†
        }
      ]
    },
    {
      "id": 1,
      "walls": [...],
      "prisms": [...],
      "targets": [...]
    }
  ]
}
```

### 2. å¤§æ£‹ç›˜é…ç½® (BoardConfig)
```javascript
{
  "code": "3A5F",             // åå…­è¿›åˆ¶ç¼–ç 
  "boards": [
    {
      "position": "topLeft",  // topLeft/topRight/bottomLeft/bottomRight
      "boardId": 3,           // å°æ£‹ç›˜ç¼–å·
      "face": 0,              // ä½¿ç”¨çš„é¢
      "rotation": 90,         // æ—‹è½¬è§’åº¦
      "color": "red"          // è¯¥å°æ£‹ç›˜çš„é¢œè‰²
    },
    // ...å…¶ä»–3ä¸ªå°æ£‹ç›˜
  ]
}
```

### 3. æ£‹å­ä½ç½® (RobotPosition)
```javascript
{
  "red": { "x": 2, "y": 3 },      // 8ä½äºŒè¿›åˆ¶: xxxx yyyy
  "yellow": { "x": 10, "y": 5 },
  "blue": { "x": 1, "y": 14 },
  "green": { "x": 15, "y": 15 }
}

// ç¼–ç ä¸º32ä½äºŒè¿›åˆ¶
// çº¢(4ä½x+4ä½y) + é»„(4+4) + è“(4+4) + ç»¿(4+4) = 32ä½
```

### 4. æ¸¸æˆçŠ¶æ€ (GameState)
```javascript
{
  "boardCode": "3A5F",
  "initialPositions": {...},
  "currentPositions": {...},
  "rounds": [
    {
      "roundNumber": 1,
      "targetId": "T5",
      "targetInfo": {...},
      "robotColor": "blue",
      "path": [...],
      "steps": 7
    }
  ],
  "totalSteps": 15
}
```

## ğŸ—ï¸ ç±»è®¾è®¡

### Core Classes

#### Cell (æ ¼å­)
```javascript
class Cell {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.walls = {
      top: false,
      right: false,
      bottom: false,
      left: false
    };
    this.prism = null;       // Prismå¯¹è±¡æˆ–null
    this.target = null;      // Targetå¯¹è±¡æˆ–null
  }
  
  hasWall(direction) {}
  setPrism(prism) {}
  setTarget(target) {}
  isEmpty() {}
}
```

#### Prism (åˆ†å…‰é•œ)
```javascript
class Prism {
  constructor(x, y, direction, color) {
    this.x = x;
    this.y = y;
    this.direction = direction;  // '\' æˆ– '/'
    this.color = color;           // 'red', 'yellow', 'blue', 'green'
  }
  
  // è®¡ç®—æŠ˜å°„åçš„æ–¹å‘
  refract(inDirection, robotColor) {
    if (robotColor === this.color) {
      return inDirection;  // åŒè‰²ç›´çº¿é€šè¿‡
    }
    // è¿”å›æŠ˜å°„åçš„æ–¹å‘
  }
  
  // æ—‹è½¬åˆ†å…‰é•œ
  rotate(angle) {
    // æ›´æ–°åæ ‡å’Œæ–¹å‘
  }
}
```

#### Target (ç»ˆç‚¹)
```javascript
class Target {
  constructor(x, y, shape, color, id) {
    this.x = x;
    this.y = y;
    this.shape = shape;    // 'circle', 'triangle', 'square', 'hexagon'
    this.color = color;    // 'red', 'yellow', 'blue', 'green', 'rainbow'
    this.id = id;
  }
  
  canAccept(robotColor) {
    return this.color === 'rainbow' || this.color === robotColor;
  }
  
  rotate(angle, centerX, centerY) {
    // æ—‹è½¬åæ ‡
  }
}
```

#### Robot (æ£‹å­)
```javascript
class Robot {
  constructor(color, x, y) {
    this.color = color;
    this.x = x;
    this.y = y;
  }
  
  moveTo(x, y) {}
  getPosition() {}
}
```

#### SmallBoard (å°æ£‹ç›˜)
```javascript
class SmallBoard {
  constructor(data) {
    this.id = data.id;
    this.color = data.color;
    this.faces = data.faces;
    this.originalGap = data.originalGap;
  }
  
  getFace(faceId) {}
  
  // æ—‹è½¬æ£‹ç›˜ï¼ˆè¿”å›æ–°çš„æ—‹è½¬åçš„æ•°æ®ï¼‰
  rotate(angle) {
    // æ—‹è½¬æ‰€æœ‰å…ƒç´ ï¼šå¢™å£ã€åˆ†å…‰é•œã€ç»ˆç‚¹
  }
}
```

#### Board (å¤§æ£‹ç›˜)
```javascript
class Board {
  constructor(config) {
    this.code = config.code;
    this.size = 16;
    this.cells = [];  // 16x16 Cellæ•°ç»„
    this.init(config);
  }
  
  init(config) {
    // 1. åˆ›å»º16Ã—16ç©ºæ£‹ç›˜
    // 2. åŠ è½½4ä¸ªå°æ£‹ç›˜
    // 3. æ—‹è½¬å¹¶æ”¾ç½®åˆ°å¯¹åº”ä½ç½®
    // 4. è®¾ç½®ä¸­å¤®2Ã—2ä¸å¯è¾¾åŒºåŸŸ
  }
  
  getCell(x, y) {}
  getAllTargets() {}
  isValidPosition(x, y) {}
}
```

#### Game (æ¸¸æˆç®¡ç†)
```javascript
class Game {
  constructor(boardConfig, initialPositions) {
    this.board = new Board(boardConfig);
    this.robots = this.createRobots(initialPositions);
    this.rounds = [];
    this.currentRound = 0;
  }
  
  createRobots(positions) {}
  
  startRound(targetId) {
    // 1. è·å–ç›®æ ‡ç»ˆç‚¹
    // 2. æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ£‹å­
    // 3. è®¡ç®—æœ€ä¼˜è·¯å¾„
    // 4. è¿”å›ç»“æœ
  }
  
  executeRound(path) {
    // æ‰§è¡Œç§»åŠ¨ï¼Œæ›´æ–°æ£‹å­ä½ç½®
  }
  
  getAvailableTargets() {}
  getCurrentState() {}
}
```

### Algorithm Classes

#### PathFinder (è·¯å¾„å¯»æ‰¾)
```javascript
class PathFinder {
  constructor(board, robots) {
    this.board = board;
    this.robots = robots;
  }
  
  findPath(robotColor, targetPos) {
    // BFSç®—æ³•ï¼Œè€ƒè™‘åˆ†å…‰é•œæŠ˜å°„
  }
  
  // æ¨¡æ‹Ÿç§»åŠ¨ï¼Œå¤„ç†åˆ†å…‰é•œ
  simulateMove(robot, direction) {
    let x = robot.x;
    let y = robot.y;
    const path = [];
    
    while (true) {
      // 1. è®¡ç®—ä¸‹ä¸€ä¸ªä½ç½®
      // 2. æ£€æŸ¥å¢™å£ã€è¾¹ç•Œã€å…¶ä»–æ£‹å­
      // 3. æ£€æŸ¥åˆ†å…‰é•œ
      //    - å¦‚æœæ˜¯åˆ†å…‰é•œä¸”ä¸åŒè‰²ï¼šæ”¹å˜æ–¹å‘ç»§ç»­
      //    - å¦‚æœæ˜¯åˆ†å…‰é•œä¸”åŒè‰²ï¼šç›´çº¿é€šè¿‡
      // 4. è®°å½•è·¯å¾„
      // 5. åˆ°è¾¾ç»ˆç‚¹æˆ–åœæ­¢ä½ç½®
    }
    
    return { finalPos, path, stopped };
  }
}
```

### UI Classes

#### BoardRenderer (æ£‹ç›˜æ¸²æŸ“)
```javascript
class BoardRenderer {
  constructor(canvasId) {
    this.canvas = document.getElementById(canvasId);
    this.ctx = this.canvas.getContext('2d');
  }
  
  render(board, robots, highlightCells) {
    // 1. ç»˜åˆ¶æ ¼å­å’Œå¢™å£
    // 2. ç»˜åˆ¶ä¸­å¤®ä¸å¯è¾¾åŒºåŸŸ
    // 3. ç»˜åˆ¶åˆ†å…‰é•œ
    // 4. ç»˜åˆ¶ç»ˆç‚¹
    // 5. ç»˜åˆ¶æ£‹å­
    // 6. ç»˜åˆ¶é«˜äº®
  }
  
  drawPrism(prism) {}
  drawTarget(target) {}
  drawRobot(robot) {}
}
```

### Utils Classes

#### Encoder (ç¼–ç å™¨)
```javascript
class Encoder {
  // æ£‹ç›˜ç¼–ç 
  static encodeBoardConfig(boards) {
    // è¿”å›4ä½åå…­è¿›åˆ¶å­—ç¬¦ä¸²
  }
  
  static decodeBoardConfig(code) {
    // è§£æä¸º4ä¸ªå°æ£‹ç›˜é…ç½®
  }
  
  // ä½ç½®ç¼–ç 
  static encodePositions(positions) {
    // è¿”å›32ä½äºŒè¿›åˆ¶æˆ–8ä½åå…­è¿›åˆ¶
  }
  
  static decodePositions(code) {
    // è§£æä¸º4ä¸ªæ£‹å­ä½ç½®
  }
  
  // å®Œæ•´ç¼–ç 
  static encodeGame(boardCode, positionCode) {
    return boardCode + positionCode;  // 12ä½åå…­è¿›åˆ¶
  }
}
```

#### Rotator (æ—‹è½¬å·¥å…·)
```javascript
class Rotator {
  // æ—‹è½¬åæ ‡
  static rotatePoint(x, y, angle, size) {
    // 0Â°: (x, y)
    // 90Â°: (y, size-1-x)
    // 180Â°: (size-1-x, size-1-y)
    // 270Â°: (size-1-y, x)
  }
  
  // æ—‹è½¬æ–¹å‘ï¼ˆåˆ†å…‰é•œï¼‰
  static rotateDirection(direction, angle) {
    // \ æ—‹è½¬90Â° â†’ /
    // / æ—‹è½¬90Â° â†’ \
  }
  
  // è®¡ç®—éœ€è¦çš„æ—‹è½¬è§’åº¦
  static calculateRotation(originalGap, targetGap) {
    // æ ¹æ®ç¼ºå£ä½ç½®è®¡ç®—æ—‹è½¬è§’åº¦
  }
}
```

## ğŸ”„ æ•°æ®æµ

### åˆå§‹åŒ–æµç¨‹
```
ç”¨æˆ·è¾“å…¥ç¼–ç  (3A5F12345678)
    â†“
Encoder.decodeGame()
    â†“
â”œâ”€ decodeBoardConfig(3A5F)
â”‚   â”œâ”€ å°æ£‹ç›˜0: ç¼–å·3, é¢1
â”‚   â”œâ”€ å°æ£‹ç›˜1: ç¼–å·10(A), é¢0
â”‚   â”œâ”€ å°æ£‹ç›˜2: ç¼–å·5, é¢0
â”‚   â””â”€ å°æ£‹ç›˜3: ç¼–å·15(F), é¢1
â”‚
â””â”€ decodePositions(12345678)
    â”œâ”€ çº¢: (1, 2)
    â”œâ”€ é»„: (3, 4)
    â”œâ”€ è“: (5, 6)
    â””â”€ ç»¿: (7, 8)
    â†“
åˆ›å»ºGameå¯¹è±¡
    â†“
Boardåˆå§‹åŒ–
    â”œâ”€ åŠ è½½4ä¸ªå°æ£‹ç›˜JSON
    â”œâ”€ è®¡ç®—æ—‹è½¬è§’åº¦
    â”œâ”€ æ—‹è½¬å¹¶æ”¾ç½®
    â””â”€ è®¾ç½®ä¸­å¤®åŒºåŸŸ
    â†“
åˆ›å»º4ä¸ªRobotå¯¹è±¡
    â†“
æ¸²æŸ“åˆå§‹ç•Œé¢
```

### æ¸¸æˆæµç¨‹
```
æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨ç»ˆç‚¹
    â†“
ç”¨æˆ·é€‰æ‹©ç»ˆç‚¹
    â†“
Game.startRound(targetId)
    â†“
æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ£‹å­ï¼ˆé¢œè‰²åŒ¹é…ï¼‰
    â†“
PathFinder.findPath(robotColor, targetPos)
    â†“
BFSæœç´¢ï¼ˆè€ƒè™‘æŠ˜å°„ï¼‰
    â”œâ”€ éå†æ‰€æœ‰å¯èƒ½çš„ç§»åŠ¨
    â”œâ”€ æ¨¡æ‹Ÿæ¯æ¬¡ç§»åŠ¨ï¼ˆåŒ…æ‹¬æŠ˜å°„ï¼‰
    â”œâ”€ æ£€æŸ¥æ˜¯å¦åˆ°è¾¾ç›®æ ‡
    â””â”€ è¿”å›æœ€ä¼˜è·¯å¾„
    â†“
æ˜¾ç¤ºè·¯å¾„å’Œæ­¥æ•°
    â†“
ç”¨æˆ·ç¡®è®¤æ‰§è¡Œ
    â†“
Game.executeRound(path)
    â†“
åŠ¨ç”»æ¼”ç¤ºç§»åŠ¨ï¼ˆåŒ…æ‹¬æŠ˜å°„è¿‡ç¨‹ï¼‰
    â†“
æ›´æ–°æ£‹å­ä½ç½®
    â†“
è®°å½•æœ¬è½®æ•°æ®
    â†“
å‡†å¤‡ä¸‹ä¸€è½®
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
v2/
â”œâ”€â”€ index.html              # ä¸»é¡µé¢
â”œâ”€â”€ main.js                 # å…¥å£æ–‡ä»¶
â”œâ”€â”€ data/                   # æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ board-0.json
â”‚   â”œâ”€â”€ board-1.json
â”‚   â”œâ”€â”€ ...
â”‚   â””â”€â”€ board-7.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒç±»
â”‚   â”‚   â”œâ”€â”€ Cell.js
â”‚   â”‚   â”œâ”€â”€ Prism.js
â”‚   â”‚   â”œâ”€â”€ Target.js
â”‚   â”‚   â”œâ”€â”€ Robot.js
â”‚   â”‚   â”œâ”€â”€ SmallBoard.js
â”‚   â”‚   â”œâ”€â”€ Board.js
â”‚   â”‚   â””â”€â”€ Game.js
â”‚   â”œâ”€â”€ algorithm/         # ç®—æ³•
â”‚   â”‚   â”œâ”€â”€ PathFinder.js
â”‚   â”‚   â””â”€â”€ BFS.js
â”‚   â”œâ”€â”€ ui/                # UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ BoardRenderer.js
â”‚   â”‚   â”œâ”€â”€ ConfigPanel.js
â”‚   â”‚   â”œâ”€â”€ TargetSelector.js
â”‚   â”‚   â””â”€â”€ ResultDisplay.js
â”‚   â””â”€â”€ utils/             # å·¥å…·ç±»
â”‚       â”œâ”€â”€ Encoder.js
â”‚       â”œâ”€â”€ Rotator.js
â”‚       â”œâ”€â”€ Validator.js
â”‚       â””â”€â”€ Constants.js
â””â”€â”€ docs/                  # æ–‡æ¡£
    â”œâ”€â”€ DESIGN.md         # æœ¬æ–‡ä»¶
    â”œâ”€â”€ API.md            # APIæ–‡æ¡£
    â””â”€â”€ RULES.md          # è§„åˆ™è¯´æ˜
```

## ğŸ¨ UIè®¾è®¡

### ä¸»ç•Œé¢å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Robot Game V2 - æ§åˆ¶é¢æ¿         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ£‹ç›˜ç¼–ç : [3A5F]  ä½ç½®ç¼–ç : [12345678] â”‚
â”‚ [ç”Ÿæˆæ£‹ç›˜] [éšæœºç”Ÿæˆ] [å¯¼å…¥é…ç½®]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              16Ã—16 æ£‹ç›˜ç”»å¸ƒ             â”‚
â”‚         (æ˜¾ç¤ºå¢™å£ã€åˆ†å…‰é•œã€ç»ˆç‚¹)         â”‚
â”‚                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å½“å‰è½®æ¬¡: ç¬¬1è½®  æ€»æ­¥æ•°: 0             â”‚
â”‚                                        â”‚
â”‚ å¯ç”¨ç»ˆç‚¹:                              â”‚
â”‚ â—‹ çº¢è‰²åœ†å½¢ (5,5)   [é€‰æ‹©]             â”‚
â”‚ â–³ è“è‰²ä¸‰è§’ (10,10) [é€‰æ‹©]             â”‚
â”‚ â–¡ ç»¿è‰²æ–¹å½¢ (3,12)  [é€‰æ‹©]             â”‚
â”‚                                        â”‚
â”‚ å½“å‰é€‰æ‹©: çº¢è‰²åœ†å½¢ (5,5)               â”‚
â”‚ å¯ç”¨æ£‹å­: çº¢è‰²æ£‹å­                     â”‚
â”‚                                        â”‚
â”‚ [è®¡ç®—è·¯å¾„] [æ‰§è¡Œç§»åŠ¨] [é‡ç½®æ¸¸æˆ]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è·¯å¾„ç»“æœ:                              â”‚
â”‚ æœ€ä¼˜è·¯å¾„: 7æ­¥                          â”‚
â”‚ 1. çº¢æ£‹å­å‘å³ â†’ (7,2)                 â”‚
â”‚ 2. å‘ä¸‹é‡è“è‰²åˆ†å…‰é•œæŠ˜å°„å‘å³ â†’ (12,5)   â”‚
â”‚ ...                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¼€å‘è®¡åˆ’

### Phase 1: åŸºç¡€è®¾æ–½ (Day 1-2)
- [x] åˆ›å»ºv2åˆ†æ”¯
- [ ] è®¾è®¡æ•°æ®ç»“æ„ï¼ˆæœ¬æ–‡æ¡£ï¼‰
- [ ] åˆ›å»ºåŸºç¡€ç±»æ¡†æ¶
- [ ] å®ç°ç¼–ç /è§£ç å·¥å…·
- [ ] åˆ›å»º8ä¸ªå†…ç½®å°æ£‹ç›˜JSON

### Phase 2: æ ¸å¿ƒé€»è¾‘ (Day 3-4)
- [ ] å®ç°æ£‹ç›˜æ—‹è½¬é€»è¾‘
- [ ] å®ç°å¤§æ£‹ç›˜ç»„åˆ
- [ ] å®ç°åˆ†å…‰é•œæŠ˜å°„ç®—æ³•
- [ ] å‡çº§BFSç®—æ³•ï¼ˆæ”¯æŒæŠ˜å°„ï¼‰

### Phase 3: UIå®ç° (Day 5-6)
- [ ] æ£‹ç›˜æ¸²æŸ“ï¼ˆåŒ…æ‹¬æ–°å…ƒç´ ï¼‰
- [ ] ç»ˆç‚¹é€‰æ‹©ç•Œé¢
- [ ] è½®æ¬¡ç®¡ç†ç•Œé¢
- [ ] è·¯å¾„åŠ¨ç”»ï¼ˆåŒ…æ‹¬æŠ˜å°„ï¼‰

### Phase 4: æµ‹è¯•ä¼˜åŒ– (Day 7)
- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] æ–‡æ¡£å®Œå–„

## ğŸ“ æ³¨æ„äº‹é¡¹

### å…³é”®å®ç°ç‚¹
1. **æ—‹è½¬ç®—æ³•**ï¼šå‡†ç¡®è®¡ç®—å…ƒç´ æ—‹è½¬åçš„ä½ç½®
2. **æŠ˜å°„é€»è¾‘**ï¼šæ­£ç¡®å¤„ç†åˆ†å…‰é•œçš„æ–¹å‘å’Œé¢œè‰²åŒ¹é…
3. **è·¯å¾„æœç´¢**ï¼šBFSéœ€è¦è€ƒè™‘æŠ˜å°„çš„è¿ç»­ç§»åŠ¨
4. **çŠ¶æ€ç®¡ç†**ï¼šå¤šè½®æ¸¸æˆçš„çŠ¶æ€ç»´æŠ¤

### æ€§èƒ½è€ƒè™‘
1. åˆ†å…‰é•œå¯èƒ½å¯¼è‡´è·¯å¾„æœç´¢å˜æ…¢ï¼ˆæŠ˜å°„å¯èƒ½å½¢æˆå¾ªç¯ï¼‰
2. éœ€è¦æ£€æµ‹æ— é™å¾ªç¯çš„æƒ…å†µ
3. çŠ¶æ€ç¼–ç è¦é«˜æ•ˆ

### å…¼å®¹æ€§
- ä¿ç•™v1çš„å¯¼å…¥å¯¼å‡ºåŠŸèƒ½ï¼ˆä½†æ ¼å¼ä¸åŒï¼‰
- v2ä½¿ç”¨æ–°çš„ç¼–ç ç³»ç»Ÿ
- å¯ä»¥æ·»åŠ v1â†’v2çš„è½¬æ¢å·¥å…·

---

**è®¾è®¡è€…**: AI Assistant  
**å®¡æ ¸è€…**: User  
**ç‰ˆæœ¬**: 2.0.0-design  
**çŠ¶æ€**: å¾…å®ç°

